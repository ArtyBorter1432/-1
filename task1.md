Теория: Позитивные и негативные сценарии
Как начинающий тестировщик, вы часто будете проверять, соответствует ли продукт требованиям. Но на этом тестирование не заканчивается. Еще есть ошибки, которые выясняются, когда пользователь действует не по сценарию. И такие моменты тоже нужно учитывать.

В этом уроке мы изучим и такие случаи тестирования. Мы перейдем к обсуждению еще одной части теории тестирования — позитивных и негативных сценариев, их еще называют тест-кейсами.

Что такое позитивный и негативный сценарий
У этих терминов довольно простые определения. Позитивный сценарий проверяет, как система функционирует в стандартных условиях. Например, пользователь вводит от 2 до 30 букв в поле для ввода имени, нажимает «Сохранить» и система сохраняет введенный текст.

Негативный сценарий — это проверка в нестандартных условиях, когда пользователи делают с системой что-то неожиданное или непредсказуемое. Например, в поле для ввода имени пользователь вводит 300 цифр и нажимает «Сохранить». Это нетипичное поведение, но даже в таких случаях программа должна вести себя адекватно — например, выдать уведомление об ошибке.

Негативные сценарии тестирования связаны с понятием «защита от дурака» — это ограничения системы, которые не дают пользователю сломать программу. В случае с вводом имени «защитой от дурака» может быть ограничение на количество символов в поле для пользовательского ввода.

Важно отметить, что позитивные сценарии гораздо важнее негативных. При тестировании сайта важно сначала проверить основной сценарий работы — выполняет ли сайт свою основную функцию. Если позитивные сценарии не проходят, то нет никакой разницы, нормально ли работают негативные сценарии.

Кроме того, негативные сценарии не предполагают наличия ошибок в приложении. Они нужны, чтобы система правильно работала даже тогда, когда пользователь делает что-то не так.

Как тестировщики работают со сценариями
Разработка позитивных и негативных сценариев — это одна из регулярных задач тестировщика.

Для примера представим, что мы тестируем форму с полями для ввода логина, пароля и кнопкой «Авторизоваться». Посмотрим, как эта задача выглядит с обеих сторон.

В этом случае позитивный сценарий — пользователь вводит правильную пару из логина и пароля, нажимает кнопку «Авторизоваться» и успешно авторизуется на сайте. При успешной аутентификации происходит авторизация пользователя в системе, а дальше мы можем проверять работоспособность по различным критериям и выяснять, правильно ли работает система.

Рассмотрим один из негативных сценариев — пользователь ничего не вводит в поля для логина и пароля, нажимает кнопку «Авторизоваться» и не может авторизоваться. Чтобы при таком сценарии система вела себя адекватно, можно пойти разными путями, например:

Сделать кнопку «Авторизоваться» недоступной для нажатия, пока пользователь не заполнит поля для логина и пароля
Сделать так, чтобы при нажатии кнопки «Авторизоваться» система проверяла наличие заполненных полей. Если в полях нет текста, система должна выдавать сообщение «Заполните поля для логина и пароля»



Позитивное и негативное тестирование
На своих курсах по обучению начинающих тестировщиков я предлагаю им написать позитивные и негативные тесты на:
Функцию вычисления корня в калькуляторе.
Работу с корзиной (добавление / удаление / редактирование) в интернет-магазине.
И вот что я заметила - с позитивным тестированием все хорошо, ребята придумывают разные виды тестов (потому что задача назвать несколько, а не перечислить все-все-все, поэтому, даже работая в команде, можно не повторяться). А вот с негативным у многих возникают проблемы, просят пояснить, потому что "ничего кроме ввода символов в числовое значение числа товаров в корзине да вычисления корня из отрицательного числа на ум не приходит".



Поэтому я решила написать поясняющую статью.

Позитивное тестирование
Тестировщик - это человек, который предоставляет команде информацию о продукте. Вот решили мы сделать тот же самый интернет-магазин, продумали концепцию, написали код и теперь задача тестирования - рассказать, работает ли все так, как нам нужно.

И конечно же, огромное значение имеют именно позитивные тесты. Если пользователь зайдет к нам на сайт и не сможет положить товар в корзину, то ему будет глубоко наплевать, что при вводе всяких спецсимволов или sql-инъекций мы пишем красивые сообщения об ошибке. 

Не работает основной сценарий, зачем дальше вообще что-то проверять? Так магазин и теряет пользователей.

Поэтому, когда нам дают что-то потестировать, можно радостно кинуться ломать новые формочки, но нужно сначала проверить корректные сценарии. Сначала удовлетворяем лояльных и грамотных пользователей, а потом уже делаем все остальное.



Таким образом, позитивное тестирование направлено на то, чтобы убедиться, что основной функционал работает. Все сценарии использования нашей системы выполнимы и приводят к ожидаемому результату, а не к ошибкам.

Посмотрим на примере:


1. Функция вычисления корня в калькуляторе.

Основной тест-кейс - проверить, что корень из корректного числа действительно вычисляется.
Разбить можно на следующие классы эквивалентности:
После вычисления корня остается целое число (корень из 4 = 2)
После вычисления корня остается дробное число (корень из 3)
Хм, а что, если дробное число у нас будет не только после вычисления корня, но и до? Можем же мы взять корень из числа 2,2 ? Позитивный тест? Позитивный!

Также можно разделить числа на небольшие, до 100, например. Потом взять интервал от 100 до размера int и третий будет еще больше, сколько влезает в наш калькулятор. 3 класса эквивалентности, проверяем по одному значению из интервала.

Не забудем и про граничные значения, проверим 0. Позитивный тест? А как же! Корень из 0 равен 0, а не ошибке!

Из основного, пожалуй, все.


2. Работа с корзиной в интернет-магазине.

О, вот где простор для воображения!  

Пользователь столько разных сценариев может выполнить!! Но в первую очередь возьмем основные, самые короткие. Потому что если уж они не работают, то длинные цепочки (добавил - отредактировал - удалил - снова добавил - итд) проверять точно не стоит. Итак:
Добавление товара в корзину.
Добавление второго товара в корзину (того же самого, счетчик должен увеличиться).
Добавление второго товара другого типа.
Редактирование числа товаров, находящихся в корзине, увеличение на несколько, уменьшение.
Удаление товара из корзины.
Ваш вариант
Придумать тестов здесь можно очень много. Особенно, если начать проверять цепочки, например, добавил товар в корзину - передумал, удалил - ой, нет, все-таки надо, снова добавил.

Думаете, будет работать, если работает по отдельности? Не-е-е-ет, ребята, вы же тестировщики! Никогда не верьте программам "на слово"! Придумали сценарий? Проверьте!

Тем более что такой сценарий вполне может упасть, мы же уже удалили данный товар из корзины, так? Так вот система вполне может не дать нам его снова добавить. Типа "ты уже отказался, але, я все помню!". Корректно такое поведение? Нет!

А сам сценарий позитивный? Да! Хотя уже и с нотками извращения, надо признать Smile :)
